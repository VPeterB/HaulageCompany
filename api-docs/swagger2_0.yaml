swagger: '2.0'
info:
  title: Haulage Company API
  description: API for managing goods, locations, purchases, shops, transport operations, and vehicles
  version: 2.0.0
schemes:
  - "http"
consumes:
  - "application/json"
produces:
  - "application/json"
paths:
  /goods/{lorrySiteId}:
    post:
      summary: Create a new good and add to lorry site
      operationId: createGood
      parameters:
        - name: lorrySiteId
          in: path
          required: true
          type: integer
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/GoodDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /goods:
    get:
      summary: Get all goods
      operationId: getAllGoods
      parameters: []
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/GoodDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /goods/{id}:
    get:
      summary: Get a good by ID
      operationId: getGoodById
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/GoodDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    put:
      summary: Update a good by ID
      operationId: updateGood
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/GoodDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    delete:
      summary: Delete a good by ID
      operationId: deleteGood
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /locations:
    post:
      summary: Create a new location
      operationId: createLocation
      parameters: []
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/LorrySiteDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"
    get:
      summary: Get all locations
      operationId: getAllLocations
      parameters: []
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/LorrySiteDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /locations/{id}:
    get:
      summary: Get a location by ID
      operationId: getLocationById
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/LorrySiteDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    put:
      summary: Update a location by ID
      operationId: updateLocation
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/LorrySiteDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    delete:
      summary: Delete a location by ID
      operationId: deleteLocation
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /purchases:
    post:
      summary: Create a new purchase
      operationId: createPurchase
      parameters: []
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/OrderDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"
    get:
      summary: Get all purchases
      operationId: getAllPurchases
      parameters: []
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/OrderDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /purchases/{id}:
    get:
      summary: Get a purchase by ID
      operationId: getPurchaseById
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/OrderDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    put:
      summary: Update a purchase by ID
      operationId: updatePurchase
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/OrderDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    delete:
      summary: Delete a purchase by ID
      operationId: deletePurchase
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /shops:
    post:
      summary: Create a new shop
      operationId: createShop
      parameters: []
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/ShopDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"
    get:
      summary: Get all shops
      operationId: getAllShops
      parameters: []
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ShopDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /shops/{id}:
    get:
      summary: Get a shop by ID
      operationId: getShopById
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ShopDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    put:
      summary: Update a shop by ID
      operationId: updateShop
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ShopDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    delete:
      summary: Delete a shop by ID
      operationId: deleteShop
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /transport-operations:
    post:
      summary: Create a new transport operation
      operationId: createTransportOperation
      parameters: []
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/TransportOperationDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"
    get:
      summary: Get all transport operations
      operationId: getAllTransportOperations
      parameters: []
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/TransportOperationDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /transport-operations/{id}:
    get:
      summary: Get a transport operation by ID
      operationId: getTransportOperationById
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TransportOperationDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    put:
      summary: Update a transport operation by ID
      operationId: updateTransportOperation
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/TransportOperationDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    delete:
      summary: Delete a transport operation by ID
      operationId: deleteTransportOperation
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /vehicles:
    post:
      summary: Create a new vehicle
      operationId: createVehicle
      parameters: []
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/VehicleDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"
    get:
      summary: Get all vehicles
      operationId: getAllVehicles
      parameters: []
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/VehicleDTO'
      consumes:
        - "application/json"
      produces:
        - "application/json"

  /vehicles/{id}:
    get:
      summary: Get a vehicle by ID
      operationId: getVehicleById
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/VehicleDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    put:
      summary: Update a vehicle by ID
      operationId: updateVehicle
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/VehicleDTO'
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

    delete:
      summary: Delete a vehicle by ID
      operationId: deleteVehicle
      parameters:
        - name: id
          in: path
          required: true
          type: integer
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
      consumes:
        - "application/json"
      produces:
        - "application/json"

definitions:
  GoodDTO:
    type: object
    properties:
      id:
        type: integer
        format: int64
      name:
        type: string
      description:
        type: string
      size:
        type: number
        format: double
      weight:
        type: number
        format: double
      quantity:
        type: integer

  LorrySiteDTO:
    type: object
    properties:
      id:
        type: integer
        format: int64
      name:
        type: string
      address:
        type: string
      goodIDs:
        type: array
        items:
          type: integer
      vehicleIDs:
        type: array
        items:
          type: integer

  OrderDTO:
    type: object
    properties:
      id:
        type: integer
        format: int64
      shopID:
        type: integer
        format: int64
      goodIDs:
        type: array
        items:
          type: integer
      transportOperationID:
        type: integer
        format: int64

  ShopDTO:
    type: object
    properties:
      id:
        type: integer
        format: int64
      name:
        type: string
      address:
        type: string
      orderIDs:
        type: array
        items:
          type: integer

  TransportOperationDTO:
    type: object
    properties:
      id:
        type: integer
        format: int64
      date:
        type: string
        format: timestamp
      usedVehicleIDs:
        type: array
        items:
          type: integer
      orderID:
        type: integer
        format: int64

  VehicleDTO:
    type: object
    properties:
      id:
        type: integer
        format: int64
      licensePlate:
        type: string
      size:
        type: number
        format: double
      maxWeight:
        type: number
        format: double
      lorrySiteID:
        type: integer
        format: int64
      transportOperationIDs:
        type: array
        items:
          type: integer
          format: int64